<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spiderweb Simulation</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>
    <style>
        body { margin: 0; overflow: hidden; background: black; }
        canvas { display: block; }
    </style>
</head>
<body>
    <script>
        const { Engine, Render, World, Bodies, Constraint } = Matter;
        
        let engine = Engine.create();
        let render = Render.create({
            element: document.body,
            engine: engine,
            options: {
                width: window.innerWidth,
                height: window.innerHeight,
                wireframes: false,
                background: "white"
            }
        });
        
        let webCenter = { x: window.innerWidth / 2, y: window.innerHeight / 2 };
        let circles = [];
        let constraints = [];
        let layers = 6; // Number of radial layers
        let pointsPerLayer = 12; // Number of anchor points per layer
        let radiusStep = 50;
        
        for (let i = 1; i <= layers; i++) {
            let radius = i * radiusStep;
            for (let j = 0; j < pointsPerLayer; j++) {
                let angle = (j / pointsPerLayer) * Math.PI * 2;
                let x = webCenter.x + radius * Math.cos(angle);
                let y = webCenter.y + radius * Math.sin(angle);
                let circle = Bodies.circle(x, y, 5, { isStatic: false, frictionAir: 0.05, render: { fillStyle: "white" } });
                circles.push(circle);
                
                if (i > 1) {
                    let index = (i - 2) * pointsPerLayer + j;
                    let upperIndex = index - pointsPerLayer;
                    constraints.push(Constraint.create({ bodyA: circles[upperIndex], bodyB: circle, stiffness: 0.2, render: { strokeStyle: "white" } }));
                }
                
                if (j > 0) {
                    constraints.push(Constraint.create({ bodyA: circles[circles.length - 2], bodyB: circle, stiffness: 0.2, render: { strokeStyle: "white" } }));
                }
            }
        }
        
        for (let i = 0; i < pointsPerLayer; i++) {
            constraints.push(Constraint.create({
                bodyA: circles[i],
                bodyB: circles[circles.length - pointsPerLayer + i],
                stiffness: 0.2,
                render: { strokeStyle: "white" }
            }));
        }
        
        World.add(engine.world, [...circles, ...constraints]);
        Engine.run(engine);
        Render.run(render);
    </script>
</body>
</html>
